-- CREATE VIEW stud AS
-- SELECT
--     "Н_УЧЕНИКИ"."ЧЛВК_ИД",
--     "Н_УЧЕНИКИ"."ГРУППА",
--     "Н_УЧЕНИКИ"."П_ПРКОК_ИД" AS "НОМЕР ПРИКАЗА",
--     "Н_УЧЕНИКИ"."СОСТОЯНИЕ" AS "СОСТОЯНИЕ ПУНКТА ПРИКАЗА"
-- FROM
--     "Н_УЧЕНИКИ"
-- JOIN
--     "Н_ПЛАНЫ" ON "Н_ПЛАНЫ"."ИД" = "Н_УЧЕНИКИ"."ПЛАН_ИД"
-- JOIN
--     "Н_ФОРМЫ_ОБУЧЕНИЯ" ON "Н_ПЛАНЫ"."ФО_ИД" = "Н_ФОРМЫ_ОБУЧЕНИЯ"."ИД"
-- WHERE
--     "Н_ПЛАНЫ"."КУРС" = '1'
--     AND Date("Н_УЧЕНИКИ"."НАЧАЛО") < '2012-09-01'
--     AND "Н_ФОРМЫ_ОБУЧЕНИЯ"."НАИМЕНОВАНИЕ" = 'Очная';
--
-- CREATE VIEW learn AS
-- SELECT
--     "Н_ОБУЧЕНИЯ"."ЧЛВК_ИД" AS "НОМЕР",
--     "Н_ЛЮДИ"."ФАМИЛИЯ",
--     "Н_ЛЮДИ"."ИМЯ",
--     "Н_ЛЮДИ"."ОТЧЕСТВО"
-- FROM
--     "Н_ОБУЧЕНИЯ"
-- JOIN
--     "Н_ЛЮДИ" ON "Н_ЛЮДИ"."ИД" = "Н_ОБУЧЕНИЯ"."ЧЛВК_ИД";
--
-- SELECT
--     stud."ГРУППА",
--     learn."НОМЕР",
--     learn."ФАМИЛИЯ",
--     learn."ИМЯ",
--     learn."ОТЧЕСТВО",
--     stud."НОМЕР ПРИКАЗА",
--     stud."СОСТОЯНИЕ ПУНКТА ПРИКАЗА"
-- FROM
--     stud
-- JOIN
--     learn ON stud."ЧЛВК_ИД" = learn."НОМЕР";

что можно делать с представлениями? 
создать(create), извлекать данные(select), обновлять (create or replace view), удалять (drop), вставлять, обновлять и удалять данные (insert, update, delete)

refresh materialized view name;




with people_over_30 as
    (select * from people where people."age" > 30)

select * people_over_30
зачем нужна with и что делать с ее помощью?
создает временное представление 


create sequence dolg as int
start with 0
increment by 3
minvalue 4
maxvalue 100
no cycle
cache 1
что можно делать?
создавать, использовать(nexval), просмотреть (select *)


pg_dump 
создает в текстовом формате, важно сохранять в формате pgsql, чтобы выводились данные, нужно добавлять -v
pg_dump -U postgres -F c -v  -f "backup.pgsql" postgres

pg_restore 
предназначен для архивов и каталогов, ПОЭТОМУ НУЖЕН КАСТОМНЫЙ ФОРМАТ И PGSQL
pg_restore -U postgres -d postgres -v "backup.pgsql"


dropdb -U postgres postgres
createdb -U postgres postgres 

что можно делать?
-t table - сохранить/восстановить только таблицу
--schema=schema1 - сохранить/восстановить только схему
-a - сохранить/восстановить только данные
-s - сохранить/восстановить только схему
--no-table=table1 - сохранить/восстановить все без указанной таблицы
